import{g as d}from"./firebase-CSieSDaD.js";const m=document.getElementById("main");let n=[],o=0,s,r=document.createElement("div");r.classList.add("gallery");m.appendChild(r);d("projets").then(l=>{console.log(l);let i=[];l.forEach(e=>{e.links&&e.links.length>0&&e.links.forEach(a=>{a.url&&a.def==="REALISATION"&&i.push(a.url)})});let c=0;if(i.forEach((e,a)=>{const t=document.createElement("img");t.src=e,t.classList.add("gallery-image"),t.style.opacity=a===0?"1":"0",t.onload=function(){n.push(t),r.appendChild(t),c++,c===i.length&&n.length>1&&g()},t.addEventListener("click",()=>{window.location.href="projets.html"})}),i.length>0){const e=document.getElementById("main-image");e.src=i[0],e.style.visibility="hidden",e.onload=function(){e.style.visibility="visible"},e.addEventListener("click",()=>{window.location.href="projets.html"})}});function g(){n.length<=1||(s=setInterval(()=>{n[o].style.opacity="0",o=(o+1)%n.length,n[o].style.opacity="1";const l=document.getElementById("main-image");l&&(l.src=n[o].src)},4e3))}window.addEventListener("beforeunload",()=>{s&&clearInterval(s)});document.getElementById("main").addEventListener("click",()=>{window.location.href="projets.html"});
