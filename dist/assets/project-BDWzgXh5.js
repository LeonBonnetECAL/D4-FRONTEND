import{g as y}from"./firebase-DROFJYHe.js";import"./footer-WBx-bA0y.js";const P=window.location.href,w=new URL(P),S=w.searchParams.get("id");console.log(S);y("projets").then(s=>{let i=s.find(m=>m.id===S);console.log(i),B(i)});let q=["MAITRE D'OUVRAGE","ADRESSE DU PROJET","DURÉE DU PROJET","CONCOURS PROCÉDURE OUVERTE","DURÉE DU MANDAT","COUT TOTAL CFC 1A9","ARCHITECTE","MANDAT ARCHITECTE","RESPONSABLES"];function B(s){const i=document.getElementById("main"),m=document.createElement("img");m.src=s.links[0].url,m.className="main_image",i.appendChild(m);const v=document.createElement("h1");v.innerHTML=s.project_name,v.className="project_title",i.appendChild(v),document.title=s.project_name;const L=document.createElement("h2");L.innerHTML=s.project_location,L.className="project_lieux",i.appendChild(L);const U=s.project_caracteristiques;console.log(U);const D=document.createElement("table");U.forEach((t,e)=>{let n=document.createElement("tr"),o=document.createElement("td"),r=document.createElement("td");n.appendChild(o),n.appendChild(r),n.className="project_caracteristiques_line",o.className="project_caracteristiques_name",r.className="project_caracteristiques_value";let l=document.createElement("p");o.appendChild(l);let d=document.createElement("p");r.appendChild(d),l.innerHTML=q[e],d.innerHTML=t,t&&D.appendChild(n)}),D.className="project_caracteristiques",i.appendChild(D);let c=[],k=s.links.filter(t=>t.def==="REALISATION");const u=document.createElement("div"),A=document.createElement("h2");A.innerHTML="Réalisation",A.className="section_title",u.className="section";const h=document.createElement("div");h.className="project_images_grille",k.forEach(t=>{const e=document.createElement("img");e.src=t.url,e.className="project_images",h.appendChild(e),c.push(e)}),u.appendChild(A),u.appendChild(h),i.appendChild(u),console.log(k);let j=s.links.filter(t=>t.def==="ETUDE");const E=document.createElement("div"),R=document.createElement("h2");R.innerHTML="Étude",R.className="section_title",E.className="section";const g=document.createElement("div");g.className="project_images_grille",j.forEach(t=>{const e=document.createElement("img");e.src=t.url,e.className="project_images",g.appendChild(e),c.push(e)}),E.appendChild(R),E.appendChild(g),i.appendChild(E);let H=s.links.filter(t=>t.def==="PLAN");const _=document.createElement("div"),b=document.createElement("h2");b.innerHTML="Plan",b.className="section_title",_.className="section";const f=document.createElement("div");f.className="project_images_grille",H.forEach(t=>{const e=document.createElement("img");e.src=t.url,e.className="project_images",f.appendChild(e),c.push(e)}),_.appendChild(b),_.appendChild(f),i.appendChild(_);let O=s.links.filter(t=>t.def==="DESSIN");const C=document.createElement("div"),M=document.createElement("h2");M.innerHTML="Dessin",M.className="section_title",C.className="section";const N=document.createElement("div");N.className="project_images_grille",O.forEach(t=>{const e=document.createElement("img");e.src=t.url,e.className="project_images",N.appendChild(e),c.push(e)}),C.appendChild(M),C.appendChild(N),i.appendChild(C),c.forEach(t=>{t.addEventListener("click",()=>{let e=document.createElement("div");e.className="overlay";let n=t.cloneNode(!0);n.className="overlay_image",e.addEventListener("click",()=>{document.body.removeChild(e)});let o=document.createElement("button");o.innerHTML="←",o.className="overlay_btn left_btn arrow_btn";let r=document.createElement("button");r.innerHTML="→",r.className="overlay_btn right_btn arrow_btn",e.appendChild(o),e.appendChild(n),e.appendChild(r),document.body.appendChild(e);let l=c.indexOf(t);o.addEventListener("click",a=>{a.stopPropagation(),l=(l-1+c.length)%c.length,n.src=c[l].src}),r.addEventListener("click",a=>{a.stopPropagation(),l=(l+1)%c.length,n.src=c[l].src}),n.addEventListener("dragstart",a=>a.preventDefault());let d=null;n.addEventListener("mousedown",a=>{d=a.clientX}),n.addEventListener("mouseup",a=>{if(d!==null){const p=a.clientX-d;p>50?(l=(l-1+c.length)%c.length,n.src=c[l].src):p<-50&&(l=(l+1)%c.length,n.src=c[l].src)}d=null});let T=null;n.addEventListener("touchstart",a=>{a.touches.length===1&&(T=a.touches[0].clientX)}),n.addEventListener("touchend",a=>{if(T!==null&&a.changedTouches.length===1){const p=a.changedTouches[0].clientX-T;p>50?(l=(l-1+c.length)%c.length,n.src=c[l].src):p<-50&&(l=(l+1)%c.length,n.src=c[l].src)}T=null})})});let I=s.project_textes;console.log(I),I.forEach(t=>{const e=document.createElement("p");e.innerHTML=t.content,e.className="project_text";let n;switch(t.type){case"REALISATION":n=h;break;case"ETUDE":n=g;break;case"PLAN":n=f;break;case"DESSIN":n=N;break;default:console.warn(`Unknown type: ${t.type}`);return}if(t.position==="START")n.insertBefore(e,n.firstChild);else if(t.position==="MIDDLE"){const o=Math.floor(n.children.length/2);n.insertBefore(e,n.children[o])}else t.position==="END"?n.appendChild(e):console.warn(`Unknown position: ${t.position}`)})}
