import{g as I}from"./firebase-CSieSDaD.js";import"./footer-OUDUc1sZ.js";const S=window.location.href,y=new URL(S),b=y.searchParams.get("id");console.log(b);I("projets").then(a=>{let s=a.find(l=>l.id===b);console.log(s),O(s)});let H=["MAITRE D'OUVRAGE","ADRESSE DU PROJET","DURÉE DU PROJET","CONCOURS PROCÉDURE OUVERTE","DURÉE DU MANDAT","COUT TOTAL CFC 1A9","ARCHITECTE","MANDAT ARCHITECTE","RESPONSABLES"];function O(a){const s=document.getElementById("main");if(a&&a.links[0].url){const e=document.createElement("img");e.src=a.links[0].url,e.className="main_image",s.appendChild(e)}if(a&&a.project_name){const e=document.createElement("h1");e.innerHTML=a.project_name,e.className="project_title",s.appendChild(e),document.title=a.project_name}if(a&&a.project_location){const e=document.createElement("h2");e.innerHTML=a.project_location,e.className="project_lieux",s.appendChild(e)}if(a&&a.project_caracteristiques&&a.project_caracteristiques.length>0){const e=a.project_caracteristiques;console.log(e);const t=document.createElement("table");e.forEach((n,o)=>{if(n){let r=document.createElement("tr"),c=document.createElement("td"),d=document.createElement("td");r.appendChild(c),r.appendChild(d),r.className="project_caracteristiques_line",c.className="project_caracteristiques_name",d.className="project_caracteristiques_value";let m=document.createElement("p");c.appendChild(m);let i=document.createElement("p");d.appendChild(i),m.innerHTML=H[o],i.innerHTML=n,n&&t.appendChild(r)}}),t.className="project_caracteristiques",s.appendChild(t)}let l=[],A=a.links.filter(e=>e.def==="REALISATION");const _=document.createElement("div"),T=document.createElement("h2");T.innerHTML="Réalisation",T.className="section_title",_.className="section";const p=document.createElement("div");p.className="project_images_grille",A.forEach(e=>{const t=document.createElement("img");t.src=e.url,t.className="project_images",p.appendChild(t),l.push(t)}),_.appendChild(T),_.appendChild(p),console.log(A);let M=a.links.filter(e=>e.def==="ETUDE");const f=document.createElement("div"),v=document.createElement("h2");v.innerHTML="Étude",v.className="section_title",f.className="section";const u=document.createElement("div");u.className="project_images_grille",M.forEach(e=>{const t=document.createElement("img");t.src=e.url,t.className="project_images",u.appendChild(t),l.push(t)}),f.appendChild(v),f.appendChild(u);let k=a.links.filter(e=>e.def==="PLAN");const C=document.createElement("div"),L=document.createElement("h2");L.innerHTML="Plan",L.className="section_title",C.className="section";const h=document.createElement("div");h.className="project_images_grille",k.forEach(e=>{const t=document.createElement("img");t.src=e.url,t.className="project_images",h.appendChild(t),l.push(t)}),C.appendChild(L),C.appendChild(h);let U=a.links.filter(e=>e.def==="DESSIN");const N=document.createElement("div"),D=document.createElement("h2");D.innerHTML="Dessin",D.className="section_title",N.className="section";const E=document.createElement("div");E.className="project_images_grille",U.forEach(e=>{const t=document.createElement("img");t.src=e.url,t.className="project_images",E.appendChild(t),l.push(t)}),N.appendChild(D),N.appendChild(E),l.forEach(e=>{e.addEventListener("click",()=>{let t=document.createElement("div");t.className="overlay";let n=e.cloneNode(!0);n.className="overlay_image",t.addEventListener("click",()=>{document.body.removeChild(t)});let o=document.createElement("button");o.innerHTML="←",o.className="overlay_btn left_btn arrow_btn";let r=document.createElement("button");r.innerHTML="→",r.className="overlay_btn right_btn arrow_btn",t.appendChild(o),t.appendChild(n),t.appendChild(r),document.body.appendChild(t);let c=l.indexOf(e);o.addEventListener("click",i=>{i.stopPropagation(),c=(c-1+l.length)%l.length,n.src=l[c].src}),r.addEventListener("click",i=>{i.stopPropagation(),c=(c+1)%l.length,n.src=l[c].src}),n.addEventListener("dragstart",i=>i.preventDefault());let d=null;n.addEventListener("mousedown",i=>{d=i.clientX}),n.addEventListener("mouseup",i=>{if(d!==null){const g=i.clientX-d;g>50?(c=(c-1+l.length)%l.length,n.src=l[c].src):g<-50&&(c=(c+1)%l.length,n.src=l[c].src)}d=null});let m=null;n.addEventListener("touchstart",i=>{i.touches.length===1&&(m=i.touches[0].clientX)}),n.addEventListener("touchend",i=>{if(m!==null&&i.changedTouches.length===1){const g=i.changedTouches[0].clientX-m;g>50?(c=(c-1+l.length)%l.length,n.src=l[c].src):g<-50&&(c=(c+1)%l.length,n.src=l[c].src)}m=null})})});let R=a.project_textes;console.log(R),R.forEach(e=>{if(!e.content||!e.type||e=="")return;const t=document.createElement("p");t.innerHTML=e.content,t.className="project_text";let n;switch(e.type){case"REALISATION":n=p;break;case"ETUDE":n=u;break;case"PLAN":n=h;break;case"DESSIN":n=E;break;default:console.warn(`Unknown type: ${e.type}`);return}if(e.position==="START")n.insertBefore(t,n.firstChild);else if(e.position==="MIDDLE"){const o=Math.floor(n.children.length/2);n.insertBefore(t,n.children[o])}else e.position==="END"?n.appendChild(t):console.warn(`Unknown position: ${e.position}`)}),p.children.length>0&&s.appendChild(_),u.children.length>0&&s.appendChild(f),h.children.length>0&&s.appendChild(C),E.children.length>0&&s.appendChild(N)}
